<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="general.css">
</head>
<body>
<!--New bit to be added to other pages starts here -->
<script src="phonegap.js"></script>
<script src="myfun.js"></script>
<!--Including the above two lines moved from lower down -->
<!-- Also remember to set form0 with getElementById! (see below) -->
<div id="modalSpace1" class="modalSpace">
     <div id="dialog1" class="dialog">
          <form><ul>
             <li>
               <button type="button" name="forward" onclick="goForward()">Go forward</button>
               <br><small class="notes">If you press the back button by accident, this corrects the mistake.
               If there is nowhere to go forward to, no action is taken.</small>
             </li>
             <li>
               <button type="button" name="general" onclick="showGeneralInstructions()">General instructions</button>
               <br><small class="notes">Look at the general instructions for this app..</small>
             </li>
          </ul></form>
     </div>
</div>
<div id="messageSpace" class="messageSpace">
     <div id="message" class="message">
          <div id="messageContent">
          </div>
          <form>
            <button type="button" name="messageCloser" onclick="closeMessage()">Close</button>
          </form>
     </div>
</div>

<!--New bit to be added to other pages ends here -->
<script src="phonegap.js"></script>
<script src="myfun.js"></script>
<form id="choosing" name="choosing" action="">
  <select id="select01" name="select01" onchange="showWalk()">
    <option value="testing">Test data</option>
    <option value="Greenhead">Greenhead Park</option>
    <option value="TPT01">Transpennine Trail Hadfield end</option>
    <option value="HolywellGreenBurialGround">Holywell Green Graveyard</option>
  </select>
  <br>
  <button type="button" name="go" onclick="selectWalk()">Choose</button>
</form>
<div id="walkDescription">
</div>
<script>
document.getElementById("choosing").style.display="none";
document.addEventListener("deviceready", onDeviceReady, false);
document.addEventListener("menubutton", showMenu, false);
function MakeArray(n)
{
   this.length = n;
   for (var i = 1; i <= n; i++) { 
     this[i] = 0 }
   return this
}
var numberOfWalkChoices = 3;
var descriptions = new MakeArray(numberOfWalkChoices);
descriptions[1] = "<p>Just test data near the manse</p>";
descriptions[2] = "<p>A walk in Greenhead Park in Huddersfield visiting various " +
                 "places of interest.</p>";
descriptions[3] = "<p>A walk along the Longdendale Trail section of the Transpennine " +
                 "Trail from Hadfield Railway Station to Torside Crossing.</p>";
descriptions[4] = "<p>A visit to six places within the burial ground at Holywell Green, behind Stainland" +
                  " and Holywell Green United Reformed Church.</p>"; 
function onDeviceReady(){
  document.getElementById("choosing").style.display="block";
}
function selectWalk(){
  var index = document.getElementById("select01").selectedIndex;
  var walk = document.getElementById("select01")[index].value;
  var url = walk+".html";
  //alert(url);
  window.location=url;
}
function showWalk(){
  //alert("entering showWalk");
  var indexFromOne = document.getElementById("select01").selectedIndex+1;
  //alert(indexFromOne);
  var temptext = descriptions[indexFromOne];
  //alert(temptext);
  document.getElementById("walkDescription").innerHTML = descriptions[indexFromOne];
}
</script>
</body>
</html>
