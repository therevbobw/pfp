<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="general.css">
</head>
<body>
<!--New bit to be added to other pages starts here -->
<script src="phonegap.js"></script>
<script src="myfun.js"></script>
<!--Including the above two lines moved from lower down -->
<div id="modalSpace1" class="modalSpace">
     <div id="dialog1" class="dialog">
          <p><form><ul>
             <li>
               <button type="button" name="forward" onclick="goForward()">Go forward</button>
               <br><small class="notes">If you press the back button by accident, this corrects the mistake.
               If there is nowhere to go forward to, no action is taken.</small>
             </li>
             <li>
               <button type="button" name="previous" onclick="previousDirections()">Previous directions</button>
               <br><small class="notes">Look again at the directions to the place you are now near to.</small>
             </li>
             <li>
               <button type="button" name="next" onclick="nextDirections()">Next directions</button>
               <br><small class="notes">Look at the directions which lead you to the next place.</small>
             </li>
          </ul></form></p>
     </div>
</div>
<!--New bit to be added to other pages ends here -->
<p class="title">Test Data</p>
<hr>

<!--<p id="demo">Click the button to get your coordinates:</p>
<button onclick="getLocation()">Try It</button>-->
<!--<h2>Waiting to get to a prayer place...</h2>-->
<form>
  <!-- replace hidden with text when needed for debugging -->
  <input type="hidden" name="lat">
  <input type="hidden" name="lon">
  <input type="hidden" name="mark">
</form>
<!--<iframe id="stuff" src="null.html" width="100%" height="720"><p>Sorry your browser does not support iframe</p></iframe> -->
<div id="stuff"></div>
<script>
document.addEventListener("deviceready", onDeviceReady, false);
document.addEventListener("menubutton", showMenu, false);
function MakeArray(n)
{
   this.length = n;
   for (var i = 1; i <= n; i++) { 
     this[i] = 0 }
   return this
}

var intro =  "<h2>Not currently at a prayer place...</h2>" +
            "<p>This is all at a testing stage.</p>" +
            "<p>Please keep looking at the browser page. The prayer will come up on the screen " +
            "when you approach the spot.</p>";
document.getElementById("stuff").innerHTML = intro;

var nPlaces = 3;
lats = new MakeArray(nPlaces);
longs = new MakeArray(nPlaces);
texts = new MakeArray(nPlaces);
froms = new MakeArray(nPlaces);
lats[1] = 53.648666;
longs[1] = -1.799677;
//textlocs[1] = "textGreenhead01.html";
texts[1] =  "<h2>The Bench</h2>" +
            "<p>A place within the park, but looking beyond the park, to the street, houses and the hills.</p>" +
            "<p>God we thank you<br>for little spaces of time<br>carved out from busy days;" +
            "<br>spaces of quiet and of remembering.<br>We pray for travellers on the road," +
            "<br>for their safety,<br>and for good in their encounters today.<br>We pray your peace" +
            "<br>on every household here.<br>We thank you for the hills and sky," +
            "<br>and ask your help to keep them safe.</p>";
froms[1] =  "<p>Leg 1 text</p>";
lats[2] = 53.648168;
longs[2] = -1.796082;
texts[2] =  "<h2>The Water Fountain</h2>" +
            "<p>Thank you God for water,<br>water that gushes abundantly,<br>water for life," +
            "<br>water for power,<br>water to make the thirsty land bloom.<br>God save those who are" +
            "<br>at the mercy of the sea,<br>in danger from floods.<br>We thank you for Jesus," +
            "<br>who gives life and meaning<br>welling up for all.</p>";
froms[2] =  "<p>Leg 2 text</p>";            
lats[3] = 53.648592;
longs[3] = -1.801921;
texts[3] = "Just testing - a location near the manse.";
froms[3] =  "<p>Leg 3 text</p>";

var form0 = document.forms[0];
form0['mark'].value = "points loaded";
var tolerance = 20; //metres radius
var tsq = tolerance*tolerance;
var interval = 3000; //milliseconds


var angConv = Math.PI/180;
//var bongsrc = "hello.mp3";
var lastUpdateTime = 0;
var thisTime = 0;
var dx = 0;
var dy = 0;
var d = 0;
var dsq = 0;
var travelled = 0;
var isOpen = "false";
var anyOpen = "false";
var lastPoint = 1;
var indexOfWanted = 1;
form0['mark'].value = "performance next";
var now = Date.now();
var then = Date.now();
var timegap = 0;
form0['mark'].value = "times initialised";
var geo_options = {
  enableHighAccuracy: true, 
  maximumAge: 	      2000, 
  timeout:            2500
};
//var form0 = document.forms[0];
form0['lat'].value = "lat";
form0['lon'].value = "lon";
form0['mark'].value = "neither";
//var interval01 = window.setInterval(getLocation, 3000);

</script>
</body>
</html>
